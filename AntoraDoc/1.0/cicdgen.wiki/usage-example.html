<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devonfw.github.io" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">devonfw.github.io</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">cicdgen</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="master-cicdgen.html">Master</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cicdgen-cli.html">Cli</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cicdgen-schematics.html">Schematics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="merge-strategies.html">Merge</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="usage-example.html">Example</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">cobigen</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cobigen.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cobigen.wiki/master-cobigen.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">dashboard</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../dashboard.wiki/home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../dashboard.wiki/master-dashboard.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4j</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4j.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../devon4j.wiki/master-devon4j.html">Master</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../devon4j.wiki/master-doc.html">Master Doc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4net</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4net.wiki/home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4net.wiki/master-devon4net.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4ng</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4ng.wiki/home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4ng.wiki/master-devon4ng.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4node</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4node.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4node.wiki/master-devon4node.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4quarkus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4quarkus.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4quarkus.wiki/devon4quarkus.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4ts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../devon4ts.wiki/home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#devon4ts.wiki/_sidebar.adoc">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">getting-started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started.wiki/getting-started.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">hangar</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#hangar.wiki/Home.md">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../hangar.wiki/hangar.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">ide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ide.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ide.wiki/master-ide.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">jump-the-queue</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../jump-the-queue.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../jump-the-queue.wiki/jump-the-queue-design.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">mrchecker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mrchecker.wiki/home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mrchecker.wiki/master-mrchecker.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">my-thai-star</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../my-thai-star.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../my-thai-star.wiki/master-my-thai-star.html">Master</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#my-thai-star.wiki/my-thai-star.adoc">Master 2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">production-line</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../production-line.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../production-line.wiki/master-production-line.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">shop-floor</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../shop-floor.wiki/Home.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#shop-floor.wiki/master-shop-floor.adoc">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">solicitor</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#solicitor.wiki/Home.md">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../solicitor.wiki/master-solicitor.html">Master</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">sonar-devon4j-plugin</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#solicitor.wiki/Home.adoc">Home</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">devonfw.github.io</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">devonfw.github.io</a></li>
    <li>cicdgen</li>
    <li><a href="usage-example.html">Example</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/marvdan/devonfw.github.io/edit/developAntora/modules/ROOT/pages/cicdgen.wiki/usage-example.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#cicdgen-usage-example">cicdgen usage example</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="cicdgen-usage-example"><a class="anchor" href="#cicdgen-usage-example"></a>cicdgen usage example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this example we are going to show how to use cicdgen step by step in a devon4ng project.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install cicdgen</p>
<div class="paragraph">
<p>cicdgen is already included in the devonfw distribution, but if you want to use it outside the devonfw console you can execute the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ npm i -g cicdgen</pre>
</div>
</div>
</li>
<li>
<p>Generate a new devon4ng project using devonfw ide.</p>
<div class="paragraph">
<p>Inside a devonfw ide distribution execute the command (<code>devon ng create &lt;app-name&gt;</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ devon ng create devon4ng</pre>
</div>
</div>
</li>
<li>
<p>Execute cicdgen generate command</p>
<div class="paragraph">
<p>As we want to send notifications to MS Teams, we need to create the connector first:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Go to a channel in teams and click at the connectors button. Then click at the jenkins configure button.</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/teams-1.png" alt="teams 1"></span></p>
</div>
</li>
<li>
<p>Put a name for the connector</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/teams-2.png" alt="teams 2"></span></p>
</div>
</li>
<li>
<p>Copy the name and the Webhook URL, we will use it later.</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/teams-3.png" alt="teams 3"></span></p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>With the values that we get in the previous steps, we will execute the cicdgen command inside the project folder. If you have any doubt you can use the help.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/help-1.png" alt="help 1"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/help-2.png" alt="help 2"></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cicdgen generate devon4ng --groupid com.devonfw --docker --dockerurl tpc://127.0.0.1:2376 `--registryurl docker-registry-devon.s2-eu.capgemini.com --teams --teamsname devon4ng --teamsurl https://outlook.office.com/webhook/...`</pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/cicdgen-command.png" alt="cicdgen command"></span></p>
</div>
</li>
<li>
<p>Create a git repository and upload the code</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/gitlab.png" alt="gitlab"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/gitlab-2.png" alt="gitlab 2"></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git remote add origin https://devon.s2-eu.capgemini.com/gitlab/darrodri/devon4ng.git
$ git push -u origin master</pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/push-code.png" alt="push code"></span></p>
</div>
<div class="paragraph">
<p>As you can see, no git init or git commit is required, cicdgen do it for you.</p>
</div>
</li>
<li>
<p>Create a multibranch-pipeline in Jenkins</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/new-pipeline.png" alt="new pipeline"></span></p>
</div>
<div class="paragraph">
<p>When you push the save button, it will download the repository and execute the pipeline defined in the Jenkinsfile. If you get any problem, check the environment variables defined in the Jenkinsfile. Here we show all variables related with Jenkins:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>chrome</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/chrome-stable.png" alt="chrome stable"></span></p>
</div>
</li>
<li>
<p><code>sonarTool</code></p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/sonar-tool.png" alt="sonar tool"></span></p>
</div>
</li>
<li>
<p><code>sonarEnv</code></p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/sonar-env.png" alt="sonar env"></span></p>
</div>
</li>
<li>
<p><code>repositoryId</code></p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/repository-id.png" alt="repository id"></span></p>
</div>
</li>
<li>
<p><code>globalSettingsId</code></p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/global-settings-id.png" alt="global settings id"></span></p>
</div>
</li>
<li>
<p><code>mavenInstallation</code></p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/maven-installation.png" alt="maven installation"></span></p>
</div>
</li>
<li>
<p><code>dockerTool</code></p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/docker-global.png" alt="docker global"></span></p>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Add a <code>webhook</code> in GitLab</p>
<div class="paragraph">
<p>In order to run the pipeline every time that you push code to GitLab, you need to configure a <code>webhook</code> in your repository.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/example/gitlab-webhook.png" alt="gitlab webhook"></span></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now your project is ready to work following a CICD strategy.</p>
</div>
<div class="paragraph">
<p>The last thing to take into account is the branch naming. We prepare the pipeline in order to work following the git-flow strategy. So all stages of the pipeline will be executed for the branches: develop, release/*, master. For the branches: feature/*, <code>hotfix</code>/*, bugfix/* only the steps related to unit testing will be executed.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
