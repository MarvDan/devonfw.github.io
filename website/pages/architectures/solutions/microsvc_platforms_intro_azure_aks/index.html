<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Azure Microservice Platforms Solution AKS</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->

</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt="">
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">DOCS</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="sect1">
<h2 id="index.asciidoc_azure-microservice-platforms-solution-aks">Azure Microservice Platforms Solution AKS</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="index.asciidoc_overview">Overview</h3>
<div class="paragraph">
<p>TODO kubernetes core</p>
</div>
<div class="paragraph">
<p>The services that (can) complement Kubernetes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Provisioning</p>
<div class="paragraph">
<p>See Provisioning for general aspects how you can handle provisioing in Azure such as creating pipelines for creating infrastructure. Additional aspects such as building a containe image are described here.</p>
</div>
</li>
<li>
<p>Azure Container Registry</p>
</li>
<li>
<p>Azure AD</p>
<div class="paragraph">
<p>Azure Active Directory provides the service principal the pipelines run with.</p>
</div>
</li>
<li>
<p>Monitoring</p>
<div class="paragraph">
<p>For infrastructure monitoring see "Monitoring". For application monitoring specific tools exist which will be described here.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The picture illustrates the setup with the major dependencies:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="complementing_services.png" alt="Complementing Services" width="594" height="335">
</div>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_pattern-details">Pattern Details</h3>
<div class="sect3">
<h4 id="index.asciidoc_geting-started">Geting Started</h4>
<div class="paragraph">
<p>TODO if there are options what do I have to decide first e.g. organizations, projects and teams in case of Azure DevOps</p>
</div>
</div>
<div class="sect3">
<h4 id="index.asciidoc_remaining-goals">Remaining goals</h4>
<div class="paragraph">
<p>Points from summary Migration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deployment resources to Kubernetes</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Instead of having to write separate YAML files for each application manually, you can simply <strong>create a Helm chart</strong> and let Helm deploy the application to the cluster for you. Helm charts contain templates for various Kubernetes resources that combine to form an application. A Helm chart can be customized when deploying it on different Kubernetes clusters. Helm charts can be created in such a way that environment or deployment-specific configurations can be extracted out to a separate file so that these values can be specified when the Helm chart is deployed. For example, you need not have separate charts for deploying an application in development, staging, and production environments.</p>
</div>
<div class="paragraph">
<p><strong>Chart linting</strong> is an easy tool that you can add to your pipeline to ensure your deployments are valid and versioned correctly.
For security reasons and improvement of Helm charts, it is useful to make use of at least one Helm linting tool.
Why choosing Polaris as Linting Tool:
For helm chart linting, there are several tools like Polaris, kube-score or config-lint available. With Polaris, checks and rules are already given by default, whereby other tools need a lot of custom rules configuration and are therefore more complex to setup.
Polaris runs a variety of checks to ensure that Kubernetes pods and controllers are configured using best practices, helping to avoid problems in the future.
Polaris can be either installed inside a cluster or as a command-line tool to analyze Kubernetes manifests statically.</p>
</div>
<div class="paragraph">
<p>The Helm operator provides an extension to Flux that automates Helm Chart releases. A Helm Chart release is described via a Kubernetes custom resource named HelmRelease. Flux synchronizes these resources from Git to the cluster, while the Helm operator makes sure Helm Charts are released as specified in the resources.</p>
</div>
</div>
</div>
</li>
<li>
<p>Configuration</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Azure Key Vault to Kubernetes (akv2k8s) is used for our applications, to make <strong>Azure Key Vault secrets</strong>, certificates and keys available to use in a secure way.
The goals of Azure Key Vault to Kubernetes are to avoid a direct program dependency for getting secrets, secure and low risk to transfer Azure Key Vault secrets and transparently inject secrets into applications.
Per default secrets, configurations and certificates can be easily read and accessed by users in Kubernetes and access to them can only be restricted by setting access rights. This will be avoided and is a huge benefit of using akv2k8s with a simple setup of Azure Key Vault and the option to set more detailed restrictions and configurations.</p>
</div>
<div class="paragraph">
<p><strong>Question:</strong> What about telling container what is the right key vault? (Injection needs to know about environment)</p>
</div>
<div class="paragraph">
<p>Tools for synchronizing configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ArgoCD:</p>
<div class="paragraph">
<p>Continuous Delivery for Kubernetes: ArgoCD is a leader developed by Intuit and synchronizes changes in the code of applications, photos and cluster definitions, so the Git - repository , to the cluster. The solution is open source software, kept relatively simple and is one of the most important and oldest tools on the market.</p>
</div>
</li>
<li>
<p>Flux</p>
<div class="paragraph">
<p>Integration of Flux CD into the workflow: Flux basically does the same job as ArgoCD, i.e. synchronizes the repository and cluster in the course of continuous delivery. Flux is also open source and kept simple - the special thing: It comes from the GitOps inventor Weaveworks.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Question:</strong> Have heard about built in Flux support in AKS</p>
</div>
</div>
</div>
</li>
<li>
<p>Monitoring</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Application monitoring: Prometheus
Infrastructure: see Standard (Extend dashboarding)</p>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_variations">Variations</h3>
<div class="paragraph">
<p>The following alternatives exist:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Managed Openshift</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Comment Openshift: Refers to Red Hat Openshift and not hosted offering
TODO: Better variation for me managed OpenShift (<a href="https://docs.microsoft.com/en-us/azure/openshift/intro-openshift">Link</a>)</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Criteria</th>
<th class="tableblock halign-left valign-top">Openshift</th>
<th class="tableblock halign-left valign-top">Kubernetes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flexibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limited; opinionated components/ fnctionalities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater flexibility</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">limited options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">almost anywhere</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">very strict; certain permission level for maintenance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">less flexible DeplyomentConfig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">very flexile helm charts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">via Routers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">via ingress conntrollers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ImageStreams improve management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management container images not that easy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usere experience</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Better user support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">additional tool for user experience</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Networking</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">native networking solution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">some components don’t have networking + third party required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Catalog</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_when-to-use">When to use</h3>
<div class="paragraph">
<p>When you need orchestration support due to a higher number of microservices. If you start with a single service then Function App reduces greatly the complexity. You can still later on move to Kubernetes by containerizing your function app code.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.asciidoc_architecture.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<div class="footnote"><sub>

Last updated 2021-08-17 10:09:21 UTC
</sub></div>


<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>

</body></html>