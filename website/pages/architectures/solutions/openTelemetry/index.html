<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Monitoring your microservices with openTelemetry</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->

</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt="">
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">DOCS</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#index.asciidoc">Monitoring your microservices with openTelemetry</a>
<ul class="sectlevel1">
<li><a href="#index.asciidoc_where-is-the-problem">Where is the problem?</a>
<ul class="sectlevel2">
<li><a href="#index.asciidoc_the-value-for-the-customer">The value for the customer</a></li>
<li><a href="#index.asciidoc_introducing-opentelemetry">Introducing openTelemetry</a></li>
</ul>
</li>
<li><a href="#index.asciidoc_how-to-solve-your-problem">How to solve your problem</a></li>
<li><a href="#index.asciidoc_go-beyond">Go beyond!</a>
<ul class="sectlevel2">
<li><a href="#index.asciidoc_related-architectures-and-alternatives">Related Architectures and Alternatives</a></li>
<li><a href="#index.asciidoc_products--services">Products &amp; Services</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="index.asciidoc" class="sect0">Monitoring your microservices with openTelemetry</h1>
<div class="sect1">
<h2 id="index.asciidoc_where-is-the-problem">Where is the problem?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>With the complexity and size of microservice systems, which include hundreds of small services, keeping an overview can be quite challenging. Usually one monolitic application can be scanned for potential errors as failures in the system directly reference this one application. With microservices the area to search in could be narrowed down but never to an extend adressing one specific service being the root cause. Therefore to keep track of runtime problems and the fullfillment of nonfunctional reqirements corresponding to specififc microservices advanced monitoring needs emerge.</em></p>
</div>
<div class="paragraph">
<p><em>There are different proposals for collecting this telemetry data consisting of logs, traces and metrics with each proposal having their own benefits and disadvantages leading to a heterogenous landscape of these solutions special for each microservice. As these are configured on their own and little to no replacability options without nudging big change efforts are given flexibility is limited blocking possibly better solutions. Concluding, overall and in the microservice teams there is not a central repository for looking up your microservices telemetry data but again a numerous amount of different hardly replacable solutions for different microservices making it difficult to gain a central overview e.g. via Grafana."</em></p>
</div>
<div class="sect2">
<h3 id="index.asciidoc_the-value-for-the-customer">The value for the customer</h3>
<div class="paragraph">
<p><em>Monitoring in microservice settings generally benefits nonfunctional requirements like performance, availability or security through transparent insights while making handling issues pro- but also reactively possible. By having all the telemetry data centrally stored and providing exchangeable solutions for the different types of data no restrictions to design decisions is made and the customer can gain a fast overview over a great amount of microservices.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_introducing-opentelemetry">Introducing openTelemetry</h3>
<div class="paragraph">
<p><em>OpenTelemetry forms the combination of openTracing and openCensus collecting different telemetry data (metrics, logs, traces) for understanding the applications behavior and performance. Because of the standardization for processing telemetry data openTelemetry acts as a central collector for whole application landscapes monitoring data, which is able to communicate with replacable logging-, tracing- or metrics-backends without changing configurations in the applications code.</em></p>
</div>
<div class="sect3">
<h4 id="index.asciidoc_addressing-your-business">addressing your business</h4>
<div class="paragraph">
<p><em>OpenTelemetry can be used in various use cases but is best suited in the microservice context. Therefore any business apllication relying on microservices would be a suited domain for applying an openTelemetry solution.</em></p>
</div>
</div>
<div class="sect3">
<h4 id="index.asciidoc_addressing-your-architecture">addressing your architecture</h4>
<div class="imageblock">
<div class="content">
<img src="openTelemetry_architecture.svg" alt="openTelemetry architecture">
</div>
</div>
<div class="paragraph">
<p><em>The above example shows a reference architecture of multiple hosts (environments/applications) with separate agents.</em></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><em>Traces and logs are automatically collected at each JAX-RS service. Other additionally defined metrics, traces or logs are also collected.</em></p>
</li>
<li>
<p><em>These applications send data directly to a collector configured to use fewer resources, aka the agent.</em></p>
</li>
<li>
<p><em>The agent then forwards the data to a collector that receives data from multiple agents. Collectors on this layer typically are allowed to use more resources and queue more data.</em></p>
</li>
<li>
<p><em>The Collector then sends the data to the appropriate backend, in the solution provided by devon4j Jaeger, Zipkin, and Victoria + Logging w/ SLF4j (not currently bc quarkus doesnâ€™t support this yet). The Victoria backend serves metrics while Jaeger and Zipkin are two alternatives for tracing.</em></p>
</li>
<li>
<p><em>Additionally all the telemetry data can be visualized in a tool like Grafana.</em></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>The configuration provided in the reference project is based on one single agent. Pipelines are set up consisting of reveivers, processors and exporters in the collector/agent config file. A reveiver transfers the telemetry data into the collector, which then can be processed on a processor. Finally, an exporter can send the data to a corresponding backend/destination. Further information can be found <a href="https://opentelemetry.io/docs/collector/configuration/"><strong>here</strong></a></em></p>
</div>
<div class="paragraph">
<p><em>Relevant components:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="https://github.com/open-telemetry/opentelemetry-collector"><strong>OpenTelemetry Collector</strong></a></em></p>
</li>
<li>
<p><em><a href="https://www.jaegertracing.io/"><strong>Jaeger</strong></a></em></p>
</li>
<li>
<p><em><a href="https://zipkin.io/"><strong>Zipkin</strong></a></em></p>
</li>
<li>
<p><em><a href="https://github.com/VictoriaMetrics/VictoriaMetrics"><strong>VictoriaMetrics</strong></a></em></p>
</li>
<li>
<p><em><a href="https://grafana.com/"><strong>Grafana</strong></a></em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="index.asciidoc_definitively-needed-if">definitively needed if</h4>
<div class="ulist">
<ul>
<li>
<p><em>Running a system with microservices leveraging different solutions for monitoring.</em></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index.asciidoc_how-to-solve-your-problem">How to solve your problem</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>If the solution should only be covered in this it could get quite big, same as architecture now but with every part describing sth about opentelemetry You could deploy each microservice with its own agent collecting different kinds of data with respect to the relevant backend. All this data is stored to a separately deployed collector, which reveives all this data making it ready to be viewed on other ressources.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index.asciidoc_go-beyond">Go beyond!</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Additionally there are 3 extensions (<a href="https://github.com/open-telemetry/opentelemetry-collector/blob/main/extension/README.md"><strong>Health Check, Performance Profiler, zPages</strong></a>) provided that can be added to the collector. These do not need direct access to telemetry data and enable additional functionalities outside the usual pipeline.</em></p>
</div>
<div class="sect2">
<h3 id="index.asciidoc_related-architectures-and-alternatives">Related Architectures and Alternatives</h3>
<div class="ulist">
<ul>
<li>
<p><em><a href="https://opentracing.io/"><strong>openTracing</strong></a></em></p>
</li>
<li>
<p><em><a href="https://opencensus.io/"><strong>openCensus</strong></a></em></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_products--services">Products &amp; Services</h3>
<div class="paragraph">
<p><em>List of available receivers, processors and exporters:</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="https://github.com/open-telemetry/opentelemetry-collector/tree/main/receiver"><strong>reveivers</strong></a></em></p>
</li>
<li>
<p><em><a href="https://github.com/open-telemetry/opentelemetry-collector/tree/main/processor"><strong>processors</strong></a></em></p>
</li>
<li>
<p><em><a href="https://github.com/open-telemetry/opentelemetry-collector/tree/main/exporter"><strong>exporters</strong></a></em></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.asciidoc_architecture.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<div class="footnote"><sub>

Last updated 2021-07-05 10:30:17 UTC
</sub></div>
</div>

<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>

</body></html>