<!DOCTYPE html><html lang="en"><head><style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style><style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Updated at 2021-07-26 13:59:44 UTC">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>devonfw guide</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->

</head>
<body id="master.asciidoc" class="book toc2 toc-left">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html" class="active">DOCS</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt>
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="header">
<h1>devonfw guide</h1>
<div class="details">
<span id="author" class="author">Updated at 2021-07-26 14:00:19 UTC</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="master.html">devonfw guide</a></span></p><ul class="sectlevel0">
<li><a href="getting-started.asciidoc.html">Getting Started</a>
</li>
<li><a href="devonfw-ide.asciidoc.html">devonfw-ide</a>
</li>
<li><a href="devonfw-guide_java.asciidoc.html">Java</a>
</li>
<li><a href="master-devon4ng.asciidoc.html">Angular</a>
</li>
<li><a href="master-devon4net.asciidoc.html">.net</a>
</li>
<li><a href="master-devon4node.asciidoc.html">NodeJS</a>
</li>
<li><a href="master-database.asciidoc.html">Choosing your Database</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc.html">devonfw shop floor</a>
<ul class="sectlevel1">
<li><a href="h0ec2830b289a5d728774589aca18d6e7.asciidoc.html">What is devonfw shop floor?</a>
</li>
<li><a href="dsf-how-to-use.asciidoc.html">How to use it</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_provisioning-environments.html">Provisioning environments</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_configuration-and-services-integration.html">Configuration and services integration</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_create-project.html">Create project</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_deployment-environments.html">Deployment environments</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_monitoring.html">Monitoring</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_annexes.html">Annexes</a>
<ul class="sectlevel2">
<li><a href="master-devonfw-shop-floor.asciidoc_bitbucket.html">BitBucket</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_selenium-basic-grid.html">Selenium Basic Grid</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_mirabaud-experience.html">Mirabaud Experience</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_azure-devops.html">Azure DevOps</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_okd-openshift-origin.html">OKD (OpenShift Origin)</a>
</li>
<li><a href="dsf-okd.asciidoc.html">OKD &lt;em&gt;(OpenShift Origin)&lt;/em&gt;</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc_istio-guide.html"><span class="toc-current">ISTIO Guide</span></a>
<ul class="sectlevel3">
<li><a href="master-devonfw-shop-floor.asciidoc_istio-guide.html#dsf-istio-guide.asciidoc">ISTIO Service Mesh Implementation Guide</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="master-cicdgen.asciidoc.html">cicdgen</a>
</li>
<li><a href="master-production-line.asciidoc.html">Production Line Templates</a>
</li>
<li><a href="master-cobigen.asciidoc.html">CobiGen&#x2009;&#x2014;&#x2009;Code-based incremental Generator</a>
</li>
<li><a href="master-mrchecker.asciidoc.html">MrChecker - devonfw testing tool</a>
</li>
<li><a href="master-my-thai-star.asciidoc.html">MyThaiStar</a>
</li>
<li><a href="master-dashboard.asciidoc.html">devonfw dashboard</a>
</li>
<li><a href="master-solicitor.asciidoc.html">Solicitor User Guide</a>
</li>
<li><a href="master-contributing.asciidoc.html">Contributing</a>
</li>
<li><a href="master-release-notes.asciidoc.html">Release Notes</a>
</li>
</ul>
</div>
</div><div id="content">
<div class="sect2">
<h3 id="master-devonfw-shop-floor.asciidoc_istio-guide">ISTIO Guide</h3>
<div class="sect3">
<h4 id="dsf-istio-guide.asciidoc">ISTIO Service Mesh Implementation Guide</h4>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_introduction">Introduction</h5>
<div class="paragraph">
<p>A service mesh separating applications from network functions like resilience, fault tolerance, etc,.</p>
</div>
<div class="paragraph">
<p>A service mesh addresses the below functions without changing the application code.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Test the new versions of services without impacting the users.</p>
</li>
<li>
<p>Scale the services.</p>
</li>
<li>
<p>Find the services with the help of service registry.</p>
</li>
<li>
<p>Test against failures.</p>
</li>
<li>
<p>Secure service-to-service communication.</p>
</li>
<li>
<p>Route traffic to a specific way.</p>
</li>
<li>
<p>Circuit breaking and fault injection.</p>
</li>
<li>
<p>Monitor the services and collect matrices.</p>
</li>
<li>
<p>Tracing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ISTIO service mesh is an open environment for Connecting, Securing, Monitoring services across the environments.</p>
</div>
</div>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_istio-architecture">ISTIO Architecture</h5>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image1.png" alt="image" width="373" height="277"></span></p>
</div>
<div class="paragraph">
<p>ISTIO is split into data plane and control plane. Refer <a href="https://istio.io/latest/docs/ops/deployment/architecture">ISTIO Architecture</a></p>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_data-plane">Data Plane</h6>
<div class="paragraph">
<p>The data plane is a set of intelligent proxies (Envoy) deployed as sidecars that mediate and control all network communication among microservices.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image2.png" alt="image" width="199" height="185"></span></p>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_control-plane">Control Plane</h6>
<div class="paragraph">
<p>The control plane is managing and configuring proxies to route traffic and enforcing policies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pilot manages all the proxies and responsible for routing</p>
</li>
<li>
<p>Mixer collects telemetry and policy check</p>
</li>
<li>
<p>Citadel does Certificate management (TLS certs to Envoys)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_istio-installation">ISTIO installation</h5>
<div class="paragraph">
<p>Download ISTIO from <a href="https://github.com/istio/istio/releases/">releases</a></p>
</div>
<div class="paragraph">
<p><code>istioctl install --set profile=demo</code></p>
</div>
<div class="paragraph">
<p>Here used demo profile, there are other profiles for production.</p>
</div>
<div class="paragraph">
<p>Verify installation:</p>
</div>
<div class="paragraph">
<p><code>kubectl get all -n istio-system</code></p>
</div>
<div class="paragraph">
<p>Inject sidecar container automatically by issuing the below command.</p>
</div>
<div class="paragraph">
<p><code>kubectl label namespace default istio-injection=enabled</code></p>
</div>
<div class="paragraph">
<p>Verify:</p>
</div>
<div class="paragraph">
<p><code>kubectl get namespace -L istio-injection</code></p>
</div>
<div class="paragraph">
<p>For more installation guides, refer <a href="https://istio.io/latest/docs/setup/install/">ISTIO Installation</a></p>
</div>
</div>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_traffic-management">Traffic Management</h5>
<div class="paragraph">
<p>ISITO&#x2019;s traffic management model relies on the Envoy proxies which deployed as sidecars to services.</p>
</div>
<div class="paragraph">
<p>Below are the traffic management API resources</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Virtual Services</p>
</li>
<li>
<p>Destination Rules</p>
</li>
<li>
<p>Gateways</p>
</li>
<li>
<p>Service Entries</p>
</li>
<li>
<p>Sidecars</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A virtual service, higher level abstraction of Kubernetes Service, lets you configure how requests are routed to a service within an Istio service mesh. Your mesh may have multiple virtual services or none. Virtual service consists of routing rules that are evaluated in order.</p>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_dark-launch">Dark Launch</h6>
<div class="paragraph">
<p>The following virtual service routes requests to different versions of a service depending on whether the request comes from a testuser. If the testuser calls then version v1 will be used, and for others version v2.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image3.png" alt="image" width="601" height="124"></span></p>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_bluegreen-deployment">Blue/Green deployment</h6>
<div class="paragraph">
<p>In blue/green deployment two versions of the application running. Both versions are live on different domain names, in this example it is mtsj.com and test.mtsj.com.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Define 2 virtual services for mtsj v1 and v2 versions.</p>
</li>
<li>
<p>Define DestinationRule and configure the subsets for v1 and v2.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image4.png" alt="image" width="601" height="139"></span></p>
</div>
<div class="paragraph">
<p>When end user browses <em>mtsj.com</em>, the gateway call goes to subset v1 of the virtual service and redirects to destination version v1, and for <em>test.mtsj.com</em> to version v2.</p>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_canary-deployment-traffic-splitting">Canary Deployment (Traffic Splitting)</h6>
<div class="paragraph">
<p>In canary deployment old and new versions of the application alive. ISTIO can be configured, how much percentage of traffic can go to each version.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image5.png" alt="image" width="601" height="123"></span></p>
</div>
<div class="paragraph">
<p>Here, the traffic is divided 75% to the version V1, and 25% to the version V2, as we gain confidence the percentage can be increased the latest version and gradually the traffic to the old version can be reduced and removed.</p>
</div>
<div class="paragraph">
<p>You may refer <a href="https://istio.io/latest/docs/concepts/traffic-management">ISTIO Traffic Management</a> for more details.</p>
</div>
<div class="sect6">
<h7 id="dsf-istio-guide.asciidoc_mythaistar-implementation">MyThaiStar Implementation</h7>
<div class="paragraph">
<p>In this example dish will have two versions and the traffic will be routed alternately using the ISTIO configuration.</p>
</div>
<div class="paragraph">
<p>Find all configuration files in istio/trafficmanagement/canary directory under mythaistarmicroservices example.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>MyThaiStar defines below</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Service</p>
</li>
<li>
<p>Service Account</p>
</li>
<li>
<p>Deployment</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The above configurations are defined in a single yaml file for all the different services like angular, dish, image etc.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>dish-v2: Dish Version 2 can be kept separately in different yaml file.</p>
</li>
<li>
<p>mts-gateway defines the ingress gateway which routes the outbound request to each service.</p>
</li>
<li>
<p>destination-rule-all defines the subsets here for later traffic routing</p>
</li>
<li>
<p>dish-50-50: traffic routing for different versions of dishmanagement.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_network-resilience">Network Resilience</h6>
<div class="sect6">
<h7 id="dsf-istio-guide.asciidoc_timeout">Timeout</h7>
<div class="paragraph">
<p>Istio lets you adjust the timeouts using virtual services. The default timeout is 15 seconds.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image6.png" alt="image" width="185" height="155"></span></p>
</div>
</div>
<div class="sect6">
<h7 id="dsf-istio-guide.asciidoc_retry">Retry</h7>
<div class="paragraph">
<p>A retry setting specifies the maximum number of times an Envoy proxy attempts to connect to a service if the initial call fails.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image7.png" alt="image" width="211" height="152"></span></p>
</div>
<div class="paragraph">
<p>Retries can also be configured on Gateway Error, Connection failure, Connection Refused or any 5xx error from the application.</p>
</div>
<div class="paragraph">
<p>retryOn: gateway-error,connect-failure,refused-stream,5xx</p>
</div>
</div>
<div class="sect6">
<h7 id="dsf-istio-guide.asciidoc_circuit-breakers">Circuit Breakers</h7>
<div class="paragraph">
<p>By defining the destination rule, set limits for calls to individual hosts within a service, such as the number of concurrent connections or how many times calls to this host have failed once the limit reached.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Outlier Detection is an ISTIO Resiliency strategy to detect unusual host behaviour and evict the unhealthy hosts from the set of load balanced healthy hosts inside a cluster.</p>
</li>
<li>
<p>If a request is sent to a service instance and it fails (returns a 50X error code), then ISTIO ejects the instance from the load balanced pool for a specified duration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image8.png" alt="image" width="182" height="150"></span></p>
</div>
</div>
<div class="sect6">
<h7 id="dsf-istio-guide.asciidoc_fault-injection">Fault Injection</h7>
<div class="paragraph">
<p>Two types of faults can be generated using ISTIO. This is useful for the testing.</p>
</div>
<div class="paragraph">
<p>Delays: timing failures.</p>
</div>
<div class="paragraph">
<p>Aborts: crash failures.</p>
</div>
<div class="paragraph">
<p>Below example is a crash failure Virtual Service. The below example configured to receive http status 500 error for the testuser. The application works fine for all other users.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image9.png" alt="image" width="229" height="377"></span></p>
</div>
<div class="paragraph">
<p>The below virtual service configured to wait 10s for all requests.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image10.png" alt="image" width="254" height="217"></span></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_security">Security</h5>
<div class="paragraph">
<p>ISTIO provides security solution has the below functions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Traffic encryption</p>
</li>
<li>
<p>Mutual TLS and fine-grained access policies.</p>
</li>
<li>
<p>Auditing tools</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_authentication">Authentication</h6>
<div class="paragraph">
<p>ISTIO provides two types of authentication.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Peer authentication, secures service to service authentication</p>
</li>
<li>
<p>Request authentication is end user authentication to verify credential attached to the request.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_mutual-tls-authentication">Mutual TLS Authentication</h6>
<div class="paragraph">
<p>By default, the TLS protocol only proves the identity of the server to the client. Mutual TLS authentication ensures that traffic has been traffic is secure and trusted in both the directions between the client and server.</p>
</div>
<div class="paragraph">
<p>All traffic between services with proxies uses mutual TLS by default.</p>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_peer-authentication">Peer Authentication</h6>
<div class="paragraph">
<p>Peer authentication has Permissive, Strict and Disabled mode. With permissive mode, a service accepts both plain text and mutual TLS traffic. Permissive mode is good at the time of onboarding and should switch to Strict later.</p>
</div>
<div class="paragraph">
<p>The authentication policy can be applied to mesh-wide, namespace wide or workload specific using the selector field.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image11.png" alt="image" width="275" height="148"></span></p>
</div>
<div class="paragraph">
<p>Here the policy applied to the workload bookings.</p>
</div>
<div class="paragraph">
<p>Check the default mesh policy:</p>
</div>
<div class="paragraph">
<p><code>kubectl describe meshpolicy default</code></p>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_request-authentication">Request authentication</h6>
<div class="paragraph">
<p>Request authentication policies specify the values needed to validate JWT tokens.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Authentication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Applies to</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Uses</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Identity</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peer authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service to service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mTLS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">source.principal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End User authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JWT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request.auth.principal</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_authorization">Authorization</h6>
<div class="paragraph">
<p>Apply an authorization policy to the workload/namespace/mesh to enforce the access control. Supports ALLOW and DENY actions.</p>
</div>
<div class="sect6">
<h7 id="dsf-istio-guide.asciidoc_deny-all">Deny All</h7>
<div class="paragraph">
<p>Below example authorization policy without any rules denies access to all workloads in admin namespace.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image12.png" alt="image" width="221" height="97"></span></p>
</div>
<div class="paragraph">
<p>Example below allowing the GET methods from order service.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image13.png" alt="image" width="247" height="174"></span></p>
</div>
<div class="paragraph">
<p>Example below denies the request to the /registered path for requests without request principals.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/others/istio/media/image14.png" alt="image" width="236" height="166"></span></p>
</div>
<div class="paragraph">
<p>You may refer <a href="https://istio.io/latest/docs/concepts/security">ISTIO Security</a> for more details.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_observability">Observability</h5>
<div class="paragraph">
<p>ISTIO generates</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Metrics - for monitor latency, traffic, errors and saturation.</p>
</li>
<li>
<p>Distributed Traces to identify call flows and service dependencies</p>
</li>
<li>
<p>Access Logs enables audit service behaviour to the individual service level.</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_grafana-dashboard">Grafana dashboard</h6>
<div class="paragraph">
<p>Grafana and Prometheus are preconfigured addons on ISTIO. To enable, choose the configuration profile which has Prometheus and Grafana enabled. Eg: Demo profile</p>
</div>
<div class="paragraph">
<p>Verify Prometheus and Grafana running in the cluster.</p>
</div>
<div class="paragraph">
<p><code>kubectl get pods -n istio-system</code></p>
</div>
</div>
<div class="sect5">
<h6 id="dsf-istio-guide.asciidoc_kiali-dashboard">Kiali dashboard</h6>
<div class="paragraph">
<p>The Kiali dashboard helps you understand the structure of your service mesh by displaying the topology. The demo profile enables Kiali dashboard also.</p>
</div>
<div class="paragraph">
<p>Access the Kiali dashboard. The default user name is admin and default password is admin.</p>
</div>
<div class="paragraph">
<p><code>istioctl dashboard kiali</code></p>
</div>
<div class="paragraph">
<p>You may refer <a href="https://istio.io/latest/docs/concepts/observability">ISTIO Observability</a></p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="dsf-istio-guide.asciidoc_minikube-troubleshooting-tips">Minikube Troubleshooting Tips</h5>
<div class="paragraph">
<p>This documentation provides the troubleshooting tips while working with minikube in a local machine.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Always start minikube with a minimum of 4GB of memory or more if available. Using command <code>minikube start --memory=4096</code></p>
</li>
<li>
<p>If minikube is not starting or throwing any error even after multiple attempts. Try the below tips:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Delete the minikube in your local machine using <code>minikube delete</code> and do a fresh minikube start.</p>
</li>
<li>
<p>In any case, if minikube is not starting even after the above step, go to .minikube folder under the users directory and delete it manually. Now try starting minikube.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Set docker environment in minikube using <code>minikube docker-env</code>. Now all the docker commands that are run will be on the docker inside minikube. So building your application after executing the above command will have the application docker images available to minikube.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To exit minikube docker environment use <code>minikube docker-env -u</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>In any case, if you face any error related to docker image such as <code>Failed to pull image</code>, or <code>image not found</code> errors we will have to manually push the application docker image to minikube docker cache using the below commands.</p>
</li>
<li>
<p>For better results - stop minikube using <code>minikube stop</code> command.</p>
</li>
<li>
<p>Execute the command <code>minikube cache add imageName/tagName</code>.</p>
</li>
<li>
<p>Now start the minikube. To verify if the docker image has been added to minikube docker execute <code>minikube ssh docker images</code>.</p>
</li>
<li>
<p>To remove any docker image from minikube docker stop any containers running that docker image and then execute <code>minikube cache delete imageName/tagName</code>.</p>
</li>
<li>
<p>To reload any docker image to minikube docker environment, execute <code>minikube cache reload</code>.</p>
</li>
<li>
<p>In any case, if the docker images are not getting removed from minikube docker environment then navigate to .minikube/cache/images and then delete the particular image.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Execute the below command to make the Grafana available.</p>
</div>
<div class="paragraph">
<p><code>kubectl -n istio-system port-forward $(kubectl -n istio-system get pod -l app=grafana -o jsonpath=&apos;\{.items[0].metadata.name}&apos;) 3000:3000 &amp;</code></p>
</div>
<div class="paragraph">
<p>Use the below URLs to view the dashboard in local machine.</p>
</div>
<div class="paragraph">
<p><a href="http://localhost:3000/dashboard/db/istio-mesh-dashboard" class="bare">http://localhost:3000/dashboard/db/istio-mesh-dashboard</a></p>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>&#x2190;&#xA0;Previous:&#xA0;<a href="dsf-okd.asciidoc.html">OKD <em>(OpenShift Origin)</em></a>&#xA0;| &#x2191;&#xA0;Up:&#xA0;<a href="master-devonfw-shop-floor.asciidoc_annexes.html">Annexes</a>&#xA0;| &#x2302;&#xA0;Home:&#xA0;<a href="master.html">devonfw guide</a>&#xA0;| Next:&#xA0;<a href="master-cicdgen.asciidoc.html">cicdgen</a>&#xA0;&#x2192;</p>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.asciidoc_architecture.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<div class="footnote"><sub>

Last updated 2021-07-26 13:56:38 UTC
</sub></div>


<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>

</body></html>