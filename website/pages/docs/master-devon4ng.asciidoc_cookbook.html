<!DOCTYPE html><html lang="en"><head><style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style><style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Updated at 2021-06-02 13:13:16 UTC">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>devonfw guide</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->

</head>
<body id="master.asciidoc" class="book toc2 toc-left">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">RESOURCES</a></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html" class="active">DOCS</a></p>
</li>
<li>
<p><a href="/website/pages/community/community.html">COMMUNITY</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt>
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="header">
<h1>devonfw guide</h1>
<div class="details">
<span id="author" class="author">Updated at 2021-06-02 13:13:39 UTC</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="master.html">devonfw guide</a></span></p><ul class="sectlevel0">
<li><a href="getting-started.asciidoc.html">I. Getting Started</a>
</li>
<li><a href="devonfw-ide.asciidoc.html">II. devonfw-ide</a>
</li>
<li><a href="devon4j.asciidoc.html">III. devonfw for Java (devon4j)</a>
</li>
<li><a href="master-devon4ng.asciidoc.html">IV. devon4ng</a>
<ul class="sectlevel1">
<li><a href="master-devon4ng.asciidoc_introduction.html">14. Introduction</a>
</li>
<li><a href="master-devon4ng.asciidoc_architecture.html">15. Architecture</a>
</li>
<li><a href="master-devon4ng.asciidoc_layers.html">16. Layers</a>
</li>
<li><a href="master-devon4ng.asciidoc_guides.html">17. Guides</a>
</li>
<li><a href="master-devon4ng.asciidoc_angular.html">18. Angular</a>
</li>
<li><a href="master-devon4ng.asciidoc_ionic.html">19. Ionic</a>
</li>
<li><a href="master-devon4ng.asciidoc_layouts.html">20. Layouts</a>
</li>
<li><a href="master-devon4ng.asciidoc_ngrx.html">21. NgRx</a>
</li>
<li><a href="master-devon4ng.asciidoc_cookbook.html"><span class="toc-current">22. Cookbook</span></a>
<ul class="sectlevel2">
<li><a href="master-devon4ng.asciidoc_cookbook.html#cookbook-abstract-class-store.asciidoc">22.1. Abstract Class Store</a>
</li>
<li><a href="master-devon4ng.asciidoc_cookbook.html#guide-angular-mock-service.asciidoc">22.2. Angular Mock Service</a>
</li>
<li><a href="master-devon4ng.asciidoc_cookbook.html#guide-cypress.asciidoc">22.3. Testing e2e with Cypress</a>
</li>
<li><a href="master-devon4ng.asciidoc_cookbook.html#guide-eslint.asciidoc">22.4. Angular ESLint support</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="master-devon4net.asciidoc.html">V. devon4net</a>
</li>
<li><a href="master-devon4node.asciidoc.html">VI. devon4node</a>
</li>
<li><a href="master-database.asciidoc.html">VII. Choosing your Database</a>
</li>
<li><a href="master-devonfw-shop-floor.asciidoc.html">VIII. devonfw shop floor</a>
</li>
<li><a href="master-cicdgen.asciidoc.html">IX. cicdgen</a>
</li>
<li><a href="master-production-line.asciidoc.html">X. Production Line Templates</a>
</li>
<li><a href="master-cobigen.asciidoc.html">XI. CobiGen&#x2009;&#x2014;&#x2009;Code-based incremental Generator</a>
</li>
<li><a href="master-mrchecker.asciidoc.html">XII. MrChecker - devonfw testing tool</a>
</li>
<li><a href="master-my-thai-star.asciidoc.html">XIII. MyThaiStar</a>
</li>
<li><a href="master-dashboard.asciidoc.html">XIV. devonfw dashboard</a>
</li>
<li><a href="master-solicitor.asciidoc.html">XV. Solicitor User Guide</a>
</li>
<li><a href="master-contributing.asciidoc.html">XVI. Contributing</a>
</li>
<li><a href="master-release-notes.asciidoc.html">XVII. Release Notes</a>
</li>
</ul>
</div>
</div><div id="content">
<div class="sect1">
<h2 id="master-devon4ng.asciidoc_cookbook">22. Cookbook</h2>
<div class="sectionbody">
<!-- toc disabled -->
<div class="sect2">
<h3 id="cookbook-abstract-class-store.asciidoc">22.1. Abstract Class Store</h3>
<div class="paragraph">
<p>The following solution presents a base class for implementing stores which handle state and its transitions.
Working with the base class achieves:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>common API across all stores</p>
</li>
<li>
<p>logging (when activated in the constructor)</p>
</li>
<li>
<p>state transitions are asynchronous by design - sequential order problems are avoided</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 87. Usage Example</div>
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">@Injectable()
export class ModalStore extends Store&lt;ModalState&gt; {

  constructor() {
    super({ isOpen: false }, !environment.production);
  }

  closeDialog() {
    this.dispatchAction(&apos;Close Dialog&apos;, (currentState) =&gt; ({...currentState, isOpen: false}));
  }

  openDialog() {
    this.dispatchAction(&apos;Open Dialog&apos;, (currentState) =&gt; ({...currentState, isOpen: true}));
  }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 88. Abstract Base Class Store</div>
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { OnDestroy } from &apos;@angular/core&apos;;
import { BehaviorSubject } from &apos;rxjs/BehaviorSubject&apos;;
import { Observable } from &apos;rxjs/Observable&apos;;
import { intersection, difference } from &apos;lodash&apos;;
import { map, distinctUntilChanged, observeOn } from &apos;rxjs/operators&apos;;
import { Subject } from &apos;rxjs/Subject&apos;;
import { queue } from &apos;rxjs/scheduler/queue&apos;;
import { Subscription } from &apos;rxjs/Subscription&apos;;

interface Action&lt;T&gt; {
  name: string;
  actionFn: (state: T) =&gt; T;
}

/** Base class for implementing stores. */
export abstract class Store&lt;T&gt; implements OnDestroy {

  private actionSubscription: Subscription;
  private actionSource: Subject&lt;Action&lt;T&gt;&gt;;
  private stateSource: BehaviorSubject&lt;T&gt;;
  state$: Observable&lt;T&gt;;

  /**
   * Initializes a store with initial state and logging.
   * @param initialState Initial state
   * @param logChanges When true state transitions are logged to the console.
   */
  constructor(initialState: T, public logChanges = false) {
    this.stateSource = new BehaviorSubject&lt;T&gt;(initialState);
    this.state$ = this.stateSource.asObservable();
    this.actionSource = new Subject&lt;Action&lt;T&gt;&gt;();

    this.actionSubscription = this.actionSource.pipe(observeOn(queue)).subscribe(action =&gt; {
      const currentState = this.stateSource.getValue();
      const nextState = action.actionFn(currentState);

      if (this.logChanges) {
        this.log(action.name, currentState, nextState);
      }

      this.stateSource.next(nextState);
    });
  }

  /**
   * Selects a property from the stores state.
   * Will do distinctUntilChanged() and map() with the given selector.
   * @param selector Selector function which selects the needed property from the state.
   * @returns Observable of return type from selector function.
   */
  select&lt;TX&gt;(selector: (state: T) =&gt; TX): Observable&lt;TX&gt; {
    return this.state$.pipe(
      map(selector),
      distinctUntilChanged()
    );
  }

  protected dispatchAction(name: string, action: (state: T) =&gt; T) {
    this.actionSource.next({ name, actionFn: action });
  }

  private log(actionName: string, before: T, after: T) {
    const result: { [key: string]: { from: any, to: any} } = {};
    const sameProbs = intersection(Object.keys(after), Object.keys(before));
    const newProbs = difference(Object.keys(after), Object.keys(before));
    for (const prop of newProbs) {
      result[prop] = { from: undefined, to: (&lt;any&gt;after)[prop] };
    }

    for (const prop of sameProbs) {
      if ((&lt;any&gt;before)[prop] !== (&lt;any&gt;after)[prop]) {
        result[prop] = { from: (&lt;any&gt;before)[prop], to: (&lt;any&gt;after)[prop] };
      }
    }

    console.log(this.constructor.name, actionName, result);
  }

  ngOnDestroy() {
    this.actionSubscription.unsubscribe();
  }

}</code></pre>
</div>
</div>
<!-- toc disabled -->
<div class="sect3">
<h4 id="guide-add-electron.asciidoc_add-electron-to-an-angular-application">22.1.1. Add Electron to an Angular application</h4>
<div class="paragraph">
<p>This cookbook recipe explains how to integrate Electron in an Angular 10+ application. <a href="https://electronjs.org/">Electron</a> is a framework for creating native applications with web technologies like JavaScript, HTML, and CSS. As an example, very well known applications as Visual Studio Code, Atom, Slack or Skype (and many more) are using Electron too.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
At the moment of this writing Angular 11.2.0, Electron 11.2.3 and Electron-builder 22.9.1 were the versions available.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Here are the steps to achieve this goal. Follow them in order.</p>
</div>
<div class="sect4">
<h5 id="guide-add-electron.asciidoc_add-electron-and-other-relevant-dependencies">Add Electron and other relevant dependencies</h5>
<div class="paragraph">
<p>There are two different approaches to add the dependencies in the <code>package.json</code> file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Writing the dependencies directly in that file.</p>
</li>
<li>
<p>Installing using <code>npm install</code> or <code>yarn add</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Please remember if the project has a <code>package-lock.json</code> or <code>yarn.lock</code> file use <code>npm</code> or <code>yarn</code> respectively.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In order to add the dependencies directly in the <code>package.json</code> file, include the following lines in the <code>devDependencies</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">&quot;devDependencies&quot;: {
...
    &quot;electron&quot;: &quot;^11.2.3&quot;,
    &quot;electron-builder&quot;: &quot;^22.9.1&quot;,
...
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>As indicated above, instead of this <code>npm install</code> can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ npm install -D electron electron-builder</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or with <code>yarn</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ yarn add -D electron electron-builder</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="guide-add-electron.asciidoc_create-the-necessary-typescript-configurations">Create the necessary typescript configurations</h5>
<div class="paragraph">
<p>In order to initiate electron in an angular app we need to modify the <code>tsconfig.json</code> file and create a <code>tsconfig.serve.json</code> and a <code>tsconfig.base.json</code> in the root folder.</p>
</div>
<div class="sect5">
<h6 id="guide-add-electron.asciidoc_tsconfig.json">tsconfig.json</h6>
<div class="paragraph">
<p>This file needs to be modified to create references to <code>./src/tsconfig.app.json</code> and <code>./src/tsconfig.spec.json</code> to support different configurations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;files&quot;: [],
  &quot;references&quot;: [
    {
      &quot;path&quot;: &quot;./src/tsconfig.app.json&quot;
    },
    {
      &quot;path&quot;: &quot;./src/tsconfig.spec.json&quot;
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="guide-add-electron.asciidoc_tsconfig.app.json">tsconfig.app.json</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;extends&quot;: &quot;../tsconfig.base.json&quot;,
  &quot;compilerOptions&quot;: {
    &quot;outDir&quot;: &quot;../app&quot;,
    &quot;module&quot;: &quot;es2015&quot;,
    &quot;baseUrl&quot;: &quot;&quot;,
    &quot;types&quot;: []
  },
  &quot;include&quot;: [
    &quot;**/*.ts&quot;,
  ],
  &quot;exclude&quot;: [
    &quot;**/*.spec.ts&quot;
  ],
  &quot;angularCompilerOptions&quot;: {
    &quot;fullTemplateTypeCheck&quot;: true,
    &quot;strictInjectionParameters&quot;: true,
    &quot;preserveWhitespaces&quot;: true
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="guide-add-electron.asciidoc_tsconfig.spec.json">tsconfig.spec.json</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;extends&quot;: &quot;../tsconfig.base.json&quot;,
  &quot;compilerOptions&quot;: {
    &quot;outDir&quot;: &quot;../spec&quot;,
    &quot;module&quot;: &quot;commonjs&quot;,
    &quot;types&quot;: [
      &quot;jasmine&quot;,
      &quot;node&quot;
    ]
  },
  &quot;files&quot;: [
    &quot;test.ts&quot;,
  ],
  &quot;include&quot;: [
    &quot;**/*.spec.ts&quot;,
    &quot;**/*.d.ts&quot;
  ],
  &quot;exclude&quot;: [
    &quot;dist&quot;,
    &quot;release&quot;,
    &quot;node_modules&quot;
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="guide-add-electron.asciidoc_tsconfig.base.json">tsconfig.base.json</h6>
<div class="paragraph">
<p>This is shared betwen tsconfig.app.json and tsconfig.spec.json and it will be extended on each config file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;compileOnSave&quot;: false,
  &quot;compilerOptions&quot;: {
    &quot;outDir&quot;: &quot;./dist&quot;,
    &quot;sourceMap&quot;: true,
    &quot;declaration&quot;: false,
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;emitDecoratorMetadata&quot;: true,
    &quot;experimentalDecorators&quot;: true,
    &quot;target&quot;: &quot;es5&quot;,
    &quot;typeRoots&quot;: [
      &quot;node_modules/@types&quot;
    ],
    &quot;lib&quot;: [
      &quot;es2017&quot;,
      &quot;es2016&quot;,
      &quot;es2015&quot;,
      &quot;dom&quot;
    ]
  },
  &quot;files&quot;: [
    &quot;electron-main.ts&quot;
    &quot;src/polyfills.ts&quot;
  ],
  &quot;include&quot;: [
    &quot;src/**/*.d.ts&quot;
  ],
  &quot;exclude&quot;: [
    &quot;node_modules&quot;
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="guide-add-electron.asciidoc_tsconfig.serve.json">tsconfig.serve.json</h6>
<div class="paragraph">
<p>In the root, <code>tsconfig.serve.json</code> needs to be created. This typescript config file is going to be used when we serve electron:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;compilerOptions&quot;: {
    &quot;outDir&quot;: &quot;.&quot;,
    &quot;sourceMap&quot;: true,
    &quot;declaration&quot;: false,
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;emitDecoratorMetadata&quot;: true,
    &quot;experimentalDecorators&quot;: true,
    &quot;target&quot;: &quot;es5&quot;,
    &quot;typeRoots&quot;: [
      &quot;node_modules/@types&quot;
    ],
    &quot;lib&quot;: [
      &quot;es2017&quot;,
      &quot;dom&quot;
    ]
  },
  &quot;include&quot;: [
    &quot;electron-main.ts&quot;
  ],
  &quot;exclude&quot;: [
    &quot;node_modules&quot;,
    &quot;**/*.spec.ts&quot;
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="guide-add-electron.asciidoc_add-electron-build-configuration">Add Electron build configuration</h5>
<div class="paragraph">
<p>In order to configure electron builds properly we need to create a new json on our application, let&#x2019;s call it electron-builder.json. For more information and fine tuning please refer to the <a href="https://www.electron.build/configuration/configuration">Electron Builder official documentation</a>.</p>
</div>
<div class="paragraph">
<p>The contents of the file will be something similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;productName&quot;: &quot;devon4ngElectron&quot;,
  &quot;directories&quot;:{
    &quot;output&quot;: &quot;./builder-release&quot;
  },
  &quot;win&quot;: {
    &quot;icon&quot;: &quot;dist/assets/icons&quot;,
    &quot;target&quot;: [
      &quot;portable&quot;
    ]
  },
  &quot;mac&quot;: {
    &quot;icon&quot;: &quot;dist/assets/icons&quot;,
    &quot;target&quot;: [
      &quot;dmg&quot;
    ]
  },
  &quot;linux&quot;: {
    &quot;icon&quot;: &quot;dist/assets/icons&quot;,
    &quot;target&quot;: [
      &quot;AppImage&quot;
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Theres two important things in this files:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>&quot;output&quot;: this is where electron builder is going to build our application</p>
</li>
<li>
<p>&quot;icon&quot;: in every OS possible theres an icon parameter, the route to the icon folder that will be created after building with angular needs to be used here. This will make it so the electron builder can find the icons and build.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="guide-add-electron.asciidoc_modify-angular.json">Modify angular.json</h5>
<div class="paragraph">
<p><code>angular.json</code> has to to be modified so the project is build inside <em>/dist</em> without an intermediate folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;architect&quot;: {
    &quot;build&quot;: {
      &quot;outputPath&quot;: &quot;dist&quot;
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="guide-add-electron.asciidoc_create-the-electron-window-in-electron-main.ts">Create the electron window in <code>electron-main.ts</code></h5>
<div class="paragraph">
<p>In order to use electron, a file needs to be created at the root of the application (<code>main.ts</code>). This file will create a window with different settings checking if we are using <code>--serve</code> as an argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">import { app, BrowserWindow } from &apos;electron&apos;;
import * as path from &apos;path&apos;;
import * as url from &apos;url&apos;;

let win: any;
const args: any = process.argv.slice(1);
const serve: any = args.some((val) =&gt; val === &apos;--serve&apos;);

const createWindow:any = ()=&gt;{
  // Create the browser window.
  win = new BrowserWindow({
    fullscreen: true,
    webPreferences: {
      nodeIntegration: true,
    }
  });

  if (serve) {
    require(&apos;electron-reload&apos;)(__dirname, {
      electron: require(`${__dirname}/node_modules/electron`)
    });
    win.loadURL(&apos;http://localhost:4200&apos;);
  } else {
    win.loadURL(
      url.format({
        pathname: path.join(__dirname, &apos;dist/index.html&apos;),
        protocol: &apos;file:&apos;,
        slashes: true
      })
    );
  }

  if (serve) {
    win.webContents.openDevTools();
  }

  // Emitted when the window is closed.
  win.on(&apos;closed&apos;, () =&gt; {
    // Dereference the window object, usually you would store window
    // in an array if your app supports multi windows, this is the time
    // when you should delete the corresponding element.
    // tslint:disable-next-line:no-null-keyword
    win = null;
  });
}

try {
  // This method will be called when Electron has finished
  // initialization and is ready to create browser windows.
  // Some APIs can only be used after this event occurs.
  app.on(&apos;ready&apos;, createWindow);

   // Quit when all windows are closed.
  app.on(&apos;window-all-closed&apos;, () =&gt; {
    // On OS X it is common for applications and their menu bar
    // to stay active until the user quits explicitly with Cmd + Q
    if (process.platform !== &apos;darwin&apos;) {
      app.quit();
    }
  });

   app.on(&apos;activate&apos;, () =&gt; {
    // On OS X it&apos;s common to re-create a window in the app when the
    // dock icon is clicked and there are no other windows open.
    if (win === null) {
      createWindow();
    }
  });
} catch (e) {
  // Catch Error
  // throw e;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="guide-add-electron.asciidoc_add-the-electron-window-and-improve-the-package.json-scripts">Add the electron window and improve the <code>package.json</code> scripts</h5>
<div class="paragraph">
<p>Inside <code>package.json</code> the electron window that will be transformed to <code>electron-main.js</code> when building needs to be added.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  ....
  &quot;main&quot;: &quot;electron-main.js&quot;,
  &quot;scripts&quot;: {...}
  ....
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>scripts</code> section in the <code>package.json</code> can be improved to avoid running too verbose commands. As a very complete example we can take a look to the My Thai Star&#x2019;s <code>scripts</code> section and copy the lines useful in your project. In any case, at least we recommend to add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">  &quot;scripts&quot;: {
    &quot;ng&quot;: &quot;ng&quot;,
    &quot;start&quot;: &quot;ng serve&quot;,
    &quot;build&quot;: &quot;ng build&quot;,
    &quot;test&quot;: &quot;ng test&quot;,
    &quot;lint&quot;: &quot;ng lint&quot;,
    &quot;e2e&quot;: &quot;ng e2e&quot;,
    &quot;electron:tsc&quot;: &quot;tsc -p tsconfig.serve.json&quot;,
    &quot;electron:run&quot;: &quot;npm run electron:tsc &amp;&amp; ng build --base-href ./ &amp;&amp; npx electron .&quot;,
    &quot;electron:serve&quot;: &quot;npm run electron:tsc &amp;&amp; npx electron . --serve&quot;,
    &quot;electron:pack&quot;: &quot;npm run electron:tsc &amp;&amp; electron-builder --dir --config electron-builder.json&quot;,
    &quot;electron:build&quot;: &quot;npm run electron:tsc &amp;&amp; electron-builder --config electron-builder.json build&quot;
  },</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>electron:</code> scripts do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>electron:tsc</code>: Compiles electron TS files.</p>
</li>
<li>
<p><code>electron:run</code>: Serves Angular app and runs electron.</p>
</li>
<li>
<p><code>electron:serve</code>: Serves electron with an already running angular app (i.e. a <code>ng serve</code> command running on another terminal).</p>
</li>
<li>
<p><code>electron:pack</code>: Packs electron app.</p>
</li>
<li>
<p><code>electron:build</code>: Builds electron app.</p>
</li>
</ul>
</div>
<!-- toc disabled -->
</div>
</div>
</div>
<div class="sect2">
<h3 id="guide-angular-mock-service.asciidoc">22.2. Angular Mock Service</h3>
<div class="paragraph">
<p>We&#x2019;ve all been there: A new idea comes, let&#x2019;s quickly prototype it. But wait, there&#x2019;s no backend. What can we do?</p>
</div>
<div class="paragraph">
<p>Below you will find o solution that will get your started quick and easy. The idea is to write a simple mock service that helps us by feeding data into our components.</p>
</div>
<div class="sect3">
<h4 id="guide-angular-mock-service.asciidoc_the-app-we-start-with">22.2.1. The app we start with</h4>
<div class="paragraph">
<p>Let&#x2019;s say you have a simple boilerplate code, with your favorite styling library hooked up and you&#x2019;re ready to go. The <a href="https://github.com/devonfw/devon4ng/tree/develop/samples/AngularMaterialBasicLayout">Angular Material</a> sample is a good starting place.</p>
</div>
</div>
<div class="sect3">
<h4 id="guide-angular-mock-service.asciidoc_the-components">22.2.2. The Components</h4>
<div class="paragraph">
<p>Components - are the building blocks of our application. Their main role is to enable fragments of user interfaces. They will either display data (a list, a table, a chart, etc.), or &apos;collect&apos; user interaction (e.g: a form, a menu, etc.)</p>
</div>
<div class="paragraph">
<p>Components stay at the forefront of the application. They should also be reusable (as much as possible). Reusability is key for what we are trying to achieve - a stable, maintainable frontend where multiple people can contribute and collaborate.</p>
</div>
<div class="paragraph">
<p>In our project, we are at the beginning. That means we may have more ideas than plans. We are exploring possibilites. In order to code eficiently:<br>
1) We will not store mock data in the components.<br>
2) We will not fetch or save data directly in the components.</p>
</div>
<div class="paragraph">
<p><a href="https://devonfw.com/website/pages/docs/master-devon4ng.asciidoc_layers.html#components-layer.asciidoc">Learn more about Angular Components</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-angular-mock-service.asciidoc_the-service">22.2.3. The Service</h4>
<div class="paragraph">
<p>So, how do we get data in our app? How do we propagate the data to the components and how can we send user interaction from the components to the our data &quot;manager&quot; logic.</p>
</div>
<div class="paragraph">
<p>The answer to all these questions is an Angular Service (that we will just call a service from now on).</p>
</div>
<div class="paragraph">
<p>A service is an injectable logic that can be consumed by all the components that need it. It can carry manipulation functions and ,in our case, fetch data from a provider.</p>
</div>
<div id="guide-angular-mock-service.asciidoc_id_service_architecture" class="imageblock">
<div class="content">
<img src="images/architecture.png" alt="Service Architecture" width="600 link=" images architecture.png"">
</div>
<div class="title">Figure 72. Angular Components &amp; Services architecture.</div>
</div>
<div class="paragraph">
<p>Inside the Angular App, an Injector gives access to each component to their required services. It&#x2019;s good coding practice to use a distinct service to each data type you want to manipulate. The type is described in a interface.</p>
</div>
<div class="paragraph">
<p>Still, our ideas drive in diferent ways, so we have to stay flexible. We cannot use a database at the moment, but we want a way to represent data on screen, which can grow organically.</p>
</div>
<div class="paragraph">
<p><a href="https://devonfw.com/website/pages/docs/master-devon4ng.asciidoc_layers.html#services-layer.asciidoc">Learn more about Angular Services</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-angular-mock-service.asciidoc_the-model">22.2.4. The Model</h4>
<div id="guide-angular-mock-service.asciidoc_id_data_box" class="imageblock">
<div class="content">
<img src="images/data-box.jpg" alt="Data Box" width="600 link=" images data-box.jpg"">
</div>
<div class="title">Figure 73. Data box in relation to services and components.</div>
</div>
<div class="paragraph">
<p>Let&#x2019;s consider a &apos;box of data&apos; represented in JSON. Phisicly this means a folder with some JSON/TS files in it. They are located in the <strong>app/mock</strong> folder. The example uses only one mock data file. The file is typed according to our data model.</p>
</div>
<div class="paragraph">
<p>Pro tip: separate your files based on purpose. In your source code, put the <strong>mock files</strong> in the <strong>mock folder</strong>, <strong>components</strong> in the <strong>components folder</strong>, <strong>services</strong> in the <strong>services folder</strong> and <strong>data models</strong> in the <strong>models folder</strong>.</p>
</div>
<div id="guide-angular-mock-service.asciidoc_id_project_structure" class="imageblock">
<div class="content">
<a class="image" href="images/data-box.png"><img src="images/project-structure.png" alt="Project Structure" width="auto"></a>
</div>
<div class="title">Figure 74. Project structure.</div>
</div>
<div class="paragraph">
<p>Aligned with the Angular way of development, we are implementing a model-view-controler pattern.</p>
</div>
<div class="paragraph">
<p>The <strong>model</strong> is represented by the interfaces we make. These interfaces describe the data structures we will use in our application. In this example, there is one data model, coresponding with the &apos;type&apos; of data that was mocked. In the models folder you will find the .ts script file that describes chemical elements. The corresponding mock file defines a set is chemical emlements objects, in accordance to our interface definition.</p>
</div>
</div>
<div class="sect3">
<h4 id="guide-angular-mock-service.asciidoc_use-case">22.2.5. Use case</h4>
<div class="paragraph">
<p>Enough with the theory, let&#x2019;s see what we have here. The app presents 3 pages as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A leader bord with the top 3 elements</p>
</li>
<li>
<p>A data table with all the elements</p>
</li>
<li>
<p>A details page that reads a route paramenter and displays the details of the element.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are a lot of business cases which have these requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A leader board can be understood as &quot;the most popular items in a set&quot;, &quot;the latest updated items&quot;, &quot;you favorite items&quot; etc.</p>
</li>
<li>
<p>A data table with CRUD operations is very useful (in our case we only view details or delete an item, but they illustrate two important things: the details view shows how to navigate and consume a parametric route, the delete action shows how to invoke service operations over the loaded data - this means that the component is reusable and when the data comes with and API, only the service will need it&#x2019;s implementation changed)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Check out the <a href="https://github.com/devonfw/devon4ng/tree/develop/samples/AngularMockService">Angular Mock Service</a> sample from the samples folder and easily get started with fast data roundtrips between your mock data and your components.</p>
</div>
<!-- toc disabled -->
</div>
</div>
<div class="sect2">
<h3 id="guide-cypress.asciidoc">22.3. Testing e2e with Cypress</h3>
<div class="paragraph">
<p>This guide will cover the basics of e2e testing using Cypress.</p>
</div>
<div class="paragraph">
<p>Cypress is a framework &#x201C;all in one&#x201D; that provides the necessary libraries to write specific e2e tests, without the need of Selenium.</p>
</div>
<div class="paragraph">
<p>Why Cypress?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uses javascript</p>
</li>
<li>
<p>It works directly with the browser so the compatibility with the frontend framework the project uses (in this case Angular) is not a problem.</p>
</li>
<li>
<p>Easy cross browser testing</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_setup">22.3.1. Setup</h4>
<div class="paragraph">
<p><strong>Install</strong>
First of all we need to install it, we can use <code>npm install</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ npm install -D cypress</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or we can install it with <code>yarn</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ yarn add -D cypress</code></pre>
</div>
</div>
<div class="paragraph">
<p>We need to run Cypress in order to get the folder tree downloaded, then create a <code>tsconfig.json</code> file inside <code>cypress folder</code> to add the typescript configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ . /node_modules/.bin/cypress open</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 89. tsconfig.json</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;compilerOptions&quot;: {
    &quot;strict&quot;: true,
    &quot;baseUrl&quot;: &quot;../node_modules&quot;,
    &quot;target&quot;: &quot;es5&quot;,
    &quot;lib&quot;: [&quot;es5&quot;, &quot;dom&quot;],
    &quot;types&quot;: [&quot;cypress&quot;]
  },
  &quot;include&quot;: [
    &quot;**/*.ts&quot;
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>BaseUrl</strong></p>
</div>
<div class="paragraph">
<p>Let&#x2019;s setup the base url so when we run the tests cypress will &quot;navegate&quot; to the right place, go to <code>cypress.json</code> on the root of the project.</p>
</div>
<div class="listingblock">
<div class="title">Listing 90. cypress.json</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;baseUrl&quot;: &quot;http://localhost:4200&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_files--structure">22.3.2. Files / Structure</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">/cypress
  tsconfig.json
  /fixtures
    - example.json
  /integration
    - button.spec.ts
    - test.spec.ts
    /examples
  /plugins
    - index.js
  /support
    - commands.js
    - index.js</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>tsconfig.json</code> for typescript configuration.</p>
</div>
<div class="paragraph">
<p><code>fixtures</code> to store our mock data or files (img, mp3&#x2026;&#x200B;) to use on our tests.</p>
</div>
<div class="paragraph">
<p><code>integration</code> is where our tests go, by default it comes with an examples folder with tests samples.</p>
</div>
<div class="paragraph">
<p><code>plugins</code> is where the configuration files of the plugins go.</p>
</div>
<div class="paragraph">
<p><code>support</code> to add custom commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_tests">22.3.3. Tests</h4>
<div class="paragraph">
<p>The structure is the same than Mocha.</p>
</div>
<div class="paragraph">
<p>First, we create a file, for example <code>form.spec.ts</code>, inside we define a context to group all our tests referred to the same subject.</p>
</div>
<div class="listingblock">
<div class="title">Listing 91. form.spec.ts</div>
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">context(&apos;Button page&apos;, () =&gt; {
  beforeEach(() =&gt; {
    cy.visit(&apos;/&apos;);
  });
  it(&apos;should have button&apos;,()=&gt;{
    cy.get(&apos;button&apos;).should(&apos;exist&apos;);
  });
  it(&apos;should contain PRESS&apos;,()=&gt;{
    cy.contains(&apos;button&apos;, &apos;PRESS&apos;);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">beforeEach</div>
<p>Visit &apos;/&apos; before every test.</p>
</div>
<div class="paragraph">
<div class="title">it</div>
<p>Inside we write the test.</p>
</div>
<div class="paragraph">
<p>The result:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/cypress/contextImg.jpg" alt="contextImg">
</div>
</div>
<div class="paragraph">
<p>For more info check <a href="#docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html_Folder-Structure">Cypress documentation</a></p>
</div>
<div class="paragraph">
<p>On <a href="https://github.com/cypress-io/cypress-example-kitchensink">kitchensink</a>
you can find an official cypress demo with all the comands being used.</p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_fixtures">22.3.4. Fixtures</h4>
<div class="paragraph">
<p>We use fixtures to mock data, it can be a json, an img, video&#x2026;&#x200B;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;name&quot;: &quot;Dummy name&quot;,
  &quot;phone&quot;: 999 99 99 99,
  &quot;body&quot;: &quot;Mock data&quot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can store multiple mocks on the same fixture file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;create&quot;:{&quot;name&quot;: &quot;e2etestBox&quot;},
  &quot;boxFruit&quot;:{
    &quot;uuid&quot;:&quot;3376339576e33dfb9145362426a33333&quot;,
    &quot;name&quot;:&quot;e2etestBox&quot;,
    &quot;visibility&quot;:true,
    &quot;items&quot;:[
      {&quot;name&quot;:&quot;apple&quot;,&quot;units&quot;:3},
      {&quot;name&quot;:&quot;kiwi&quot;,&quot;units&quot;:2},
    ]
  },
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To access data we don&#x2019;t need to import any file, we just call cy.fixture(filename) inside the <code>**.spec.ts</code>. We can name it as we want.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.fixture(&apos;box.json&apos;).as(&apos;fruitBox&apos;)</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>cy.fixture(&apos;box.json&apos;)</code> we get access to <code>box.json</code>
<code>.as(fruitBox)</code> is used to create an alias (fruitBox) to the fixture.</p>
</div>
<div class="paragraph">
<p>For more info check <a href="https://docs.cypress.io/api/commands/fixture.html#Syntax">Fixtures documentation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_request--route">22.3.5. Request / Route</h4>
<div class="paragraph">
<p>With cypress you can test your application with real data or with mocks.</p>
</div>
<div class="paragraph">
<p>Not using mocks guarantees that your tests are real e2e test but makes them vulnerable to external issues.
When you mock data you don&#x2019;t know exactly if the data and the structure received from the backend is correct because you are forcing a mock on the response, but you can avoid external issues, run test faster and have better control on the structure and status.</p>
</div>
<div class="paragraph">
<p>To get more information go to <a href="https://docs.cypress.io/guides/guides/network-requests.html#Testing-Strategies">Testing Strategies</a></p>
</div>
<div class="sect4">
<h5 id="guide-cypress.asciidoc_route">Route</h5>
<div class="paragraph">
<p>Cypress can intercept a XHR request and interact with it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.server();
cy.route(
  &apos;GET&apos;,
  &apos;/apiUrl/list&apos;,
  [{&quot;name&quot;:&quot;apple&quot;, &quot;units&quot;:3},{&quot;name&quot;:&quot;kiwi&quot;, &quot;units&quot;:2}]
)</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>cy.server(options)</code> start a server to interact with the responses.</p>
</div>
<div class="ulist">
<div class="title"><code>cy.route(options)</code> intercepts a XMLHttpRequests</div>
<ul>
<li>
<p>method <code>GET</code></p>
</li>
<li>
<p>url <code>/apiUrl/list&apos;</code></p>
</li>
<li>
<p>response <code>[{&quot;name&quot;:&quot;apple&quot;, &quot;units&quot;:3},{&quot;name&quot;:&quot;kiwi&quot;, &quot;units&quot;:2}]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Waits</strong></p>
</div>
<div class="paragraph">
<p>Every cypress action has a default await time to avoid asynchronous issues, but this time can be short for some particular actions like api calls, for those cases we can use <code>cy.wait()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.server();
cy.route(&apos;/apiUrl/list&apos;).as(&apos;list&apos;);
cy.visit(&apos;/boxList&apos;);
cy.wait(&apos;@list&apos;);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can find more information about <code>cy.wait()</code> <a href="https://docs.cypress.io/guides/guides/network-requests.html#Waiting">here</a></p>
</div>
<div class="paragraph">
<p>To mock data with fixtures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.fixture(&apos;box&apos;)
  .then(({boxFruit}) =&gt; {
    cy.route(
      &apos;GET&apos;,
      &apos;/apiUrl/list&apos;,
      boxFruit
    ).as(&apos;boxFruit&apos;);
    cy.get(&apos;#button&apos;).click();
    cy.wait(&apos;@journalsList&apos;);
    cy.get(&apos;#list&apos;).contains(&apos;apple&apos;);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>We get boxFruit data from the box fixture and then we mock the api call with it so now the response of the call is boxFruit object.
When the button is clicked, it waits to recive the response of the call and then checks if the list contains one of the elements of the fruitBox.</p>
</div>
</div>
<div class="sect4">
<h5 id="guide-cypress.asciidoc_request">Request</h5>
<div class="paragraph">
<p>Make a HTTP request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.server();
cy.request(&apos;http://localhost:4200/&apos;)
  .its(&apos;body&apos;)
  .should(&apos;include&apos;, &apos;&lt;h1&gt;Welcome to Devon4ngAngularElementsTest!&lt;/h1&gt;&apos;);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we have <code>&apos;http://localhost:4200&apos;</code> as baseUrl on <code>cypress.json</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.server();
cy.request(&apos;/&apos;)
  .its(&apos;body&apos;)
  .should(&apos;include&apos;, &apos;&lt;h1&gt;Welcome to Devon4ngAngularElementsTest!&lt;/h1&gt;&apos;);
// Goes to http://localhost:4200/</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can add other options, like we can send the body of a form.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">cy.server();
cy.request({
  method: &apos;POST&apos;,
  url: &apos;/send&apos;,
  form: true,
  body: {
    name: &apos;name task&apos;,
    description: &apos;description of the task&apos;
  }
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_custom-comands">22.3.6. Custom comands</h4>
<div class="paragraph">
<p>If you see yourself writing the same test more than once (login is a common one), you can create a custom command to make things faster.</p>
</div>
<div class="paragraph">
<p><code>Cypress.Commands.add(&apos;name&apos;, ()&#x21D2;{})</code> to create the test.</p>
</div>
<div class="listingblock">
<div class="title">Listing 92. commands.ts</div>
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">Cypress.Commands.add(&apos;checkPlaceholder&apos;, (name) =&gt; {
  cy.get(`[name=&apos;${name}&apos;]`).click();
  cy.get(&apos;mat-form-field.mat-focused&apos;).should(&apos;exist&apos;);
});</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">index.ts</div>
<p>To use the commands we need to import the files on support/index.ts</p>
</div>
<div class="listingblock">
<div class="title">Listing 93. index.ts</div>
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">import &apos;./commands&apos;
import &apos;./file1&apos;
import &apos;./folder/file2&apos;</code></pre>
</div>
</div>
<div class="paragraph">
<p>index.ts is where all our custom commands files unite so Cypress knows where to find them.</p>
</div>
<div class="paragraph">
<p>And as we are using typescript we need to define a <code>namespace</code>, <code>interface</code> and define our function.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>index.d.ts</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>declare namespace Cypress {
  interface Chainable&lt;Subject&gt; {
    checkPlaceholder(name:string):Chainable&lt;void&gt;
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Check <a href="https://docs.cypress.io/guides/tooling/typescript-support.html#Types-for-custom-commands">typescript custom commands</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_cross-browser-testing">22.3.7. Cross browser testing</h4>
<div class="paragraph">
<p>By default the browser used by Cypress is Chrome, it has compativility with it&#x2019;s family browsers (including Microsoft Edge) and has beta support for Mozilla Firefox.</p>
</div>
<div class="paragraph">
<p>To change the browser on the panel we can do it by selecting the desired one on the browsers tab before running the spec file.</p>
</div>
<div class="paragraph">
<p><code>Cypress will detect and display, except electron, only the browsers that you have already installed on your machine.</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/cypress/browserTab.jpg" alt="browserTab">
</div>
</div>
<div class="paragraph">
<p>Once the browser is selected, you can run your tests.</p>
</div>
<div class="paragraph">
<p>To change the browser on the automatic test run, you can add a flag on the node command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cypress run --browser edge</code></pre>
</div>
</div>
<div class="paragraph">
<p>Only if we use the <code>cypress run</code> command.</p>
</div>
<div class="paragraph">
<p>Or we can change the script file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cypress/script.js</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>const runTests= async ()=&gt;{
  ...
  const {totalFailed} = await cypress.run({browser:&apos;edge&apos;});
  ...
};</pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://docs.cypress.io/guides/guides/cross-browser-testing.html#Continuous-Integration-Strategies">Cypress documentation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_viewport">22.3.8. Viewport</h4>
<div class="paragraph">
<p>Cypress allow us to create tests depending on the viewport, so we can test responsiveness.</p>
</div>
<div class="paragraph">
<p>There are diferent ways to use it:</p>
</div>
<div class="paragraph">
<p>Inside a test case</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Typescript" data-lang="Typescript">it(&apos;should change title when viewport is less than 320px&apos;, ()=&gt;{
  cy.get(&apos;.title-l&apos;).should(&apos;be.visible&apos;);
  cy.get(&apos;.title-s&apos;).should(&apos;not.be.visible&apos;);
  cy.viewport(320, 480);
  cy.get(&apos;.title-l&apos;).should(&apos;not.be.visible&apos;);
  cy.get(&apos;.title-s&apos;).should(&apos;be.visible&apos;);
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Passing the configuration as an option</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Typescript" data-lang="Typescript">describe(&apos;page display on medium size screen&apos;, {
  viewportHeight: 1000,
  viewportWidth: 400
}, () =&gt; {
  ...
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or we can set a default</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cypress.json</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>...
{
 &quot;viewportHeight&quot;: 1000
 &quot;viewportWidth&quot;: 400,
}
...</pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://docs.cypress.io/api/commands/viewport.html#Syntax">Viewport documentation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_test-retries">22.3.9. Test retries</h4>
<div class="paragraph">
<p>We can get false negatives intermittently due external issues that can affect our tests, because of that we can add, in the configuration, a retries entry so cypres can run again a certain failed test the selected number of times to verify that the error is real.</p>
</div>
<div class="paragraph">
<p>We can set retries for run or open mode.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cypress.json</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>...
&quot;retries&quot;: {
    &quot;runMode&quot;: 3,
    &quot;openMode&quot;: 3
  }
...</pre>
</div>
</div>
<div class="paragraph">
<p>The retries can be configured on the <code>cypress.json</code> or directly on a specific test.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Typescript" data-lang="Typescript">it(&apos;should get button&apos;, {
  retries: {
    runMode: 2,
    openMode: 2
  }
}, () =&gt; {
  ...
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>This retries thoes not show on the test log.</p>
</div>
<div class="paragraph">
<p>Check more on <a href="https://docs.cypress.io/guides/guides/test-retries.html#Introduction">retries documentation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="guide-cypress.asciidoc_reporter">22.3.10. Reporter</h4>
<div class="paragraph">
<p>The tests results appear on the terminal, but to have a more friendly view we can add a reporter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/cypress/reporter.jpg" alt="reporter">
</div>
</div>
<div class="sect4">
<h5 id="guide-cypress.asciidoc_mochawesome">Mochawesome</h5>
<div class="paragraph">
<p>In this case we are going to use Mochawesome, initialy its a Mocha reporter but as Cypress uses Mocha it works the same.</p>
</div>
<div class="paragraph">
<p><strong>Install</strong></p>
</div>
<div class="paragraph">
<p>npm</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install --save-dev mochawesome</code></pre>
</div>
</div>
<div class="paragraph">
<p>yarn</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">yarn add -D mochawesome</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run the reporter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cypress run --reporter mochawesome</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mochawesome saves by default the generated files on <em>./mochawesome-report/</em> but we can add options to change this behabour.</p>
</div>
<div class="paragraph">
<p>Options can be passed to the reporter in two ways</p>
</div>
<div class="paragraph">
<p>Using a flag</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cypress run --reporter mochawesome --reporter-options reportDir=report</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or on <em>cypress.json</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  &quot;baseUrl&quot;: &quot;http://localhost:4200&quot;,
  &quot;reporter&quot;: &quot;mochawesome&quot;,
  &quot;reporterOptions&quot;: {
    &quot;overwrite&quot;: false,
    &quot;html&quot;: false,
    &quot;json&quot;: true,
    &quot;reportDir&quot;: &quot;cypress/report&quot;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Overwrite:false</code> to not overwrite every **:spec.ts test report, we want them to create a merged version later.</p>
</div>
<div class="paragraph">
<p><code>reportDir</code> to set a custom directory.</p>
</div>
<div class="paragraph">
<p><code>html:false</code> because we don&#x2019;t need it.</p>
</div>
<div class="paragraph">
<p><code>json:true</code> to save them on json.</p>
</div>
<div class="paragraph">
<p>Mochawesome only creates the html file of the last .spec.ts file that the tests run, that&#x2019;s why we don&#x2019;t generate html reports directly, in order to stack them all on the same final html we need to merge the reports.</p>
</div>
<div class="paragraph">
<p>Check the <a href="https://www.npmjs.com/package/mochawesome-report-generator">mochawesome documentation</a></p>
</div>
<div class="paragraph">
<p><strong>mochawesome-merge</strong></p>
</div>
<div class="paragraph">
<p>Mochawesome-merge is a library that helps us to merge the different json.</p>
</div>
<div class="paragraph">
<p>npm</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install --save-dev mochawesome-merge
npm install --save-dev mochawesome-report-generator</code></pre>
</div>
</div>
<div class="paragraph">
<p>yarn</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">yarn add -D mochawesome-merge
yarn add -D mochawesome-report-generator</code></pre>
</div>
</div>
<div class="paragraph">
<p>To merge the files we execute this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">mochawesome-merge cypress/report/*.json &gt; cypress/reportFinal.json</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>reportFinal.json</code> is the result of this merge, whit that we hace the data of all the spec files in one json.</p>
</div>
<div class="paragraph">
<p>We can also automate the test, merge and convertion to html using a script.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-TypeScript" data-lang="TypeScript">const cypress = require(&apos;cypress&apos;);
const fse = require(&apos;fs-extra&apos;);
const { merge } = require(&apos;mochawesome-merge&apos;);
const generator = require(&apos;mochawesome-report-generator&apos;);
const runTests= async ()=&gt;{
  await fse.remove(&apos;mochawesome-report&apos;);
  await fse.remove(&apos;cypress/report&apos;);
  const {totalFailed} = await cypress.run();
  const reporterOptions = {
    files: [&quot;cypress/report/*.json&quot;]
  };
  await generateReport(reporterOptions);
  if(totalFailed !== 0){
    process.exit(2);
  };
};
const generateReport = (options)=&gt; {
  return merge(options).then((jsonReport)=&gt;{
    generator.create(jsonReport).then(()=&gt;{
      process.exit();
    });
  });
};
runTests();</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>fse.remove()</code> to remove older reports data.</p>
</div>
<div class="paragraph">
<p><code>cypress.run()</code> to run the tests.</p>
</div>
<div class="paragraph">
<p><code>merge(options)</code> we merge the jsons output from running the tests.</p>
</div>
<div class="paragraph">
<p><code>generator.create(jsonReport)</code> then we generate the html view of the report.</p>
</div>
<div class="paragraph">
<p>Check the <a href="https://www.npmjs.com/package/mochawesome-merge">mochawesome-merge documentation</a></p>
</div>
<div class="paragraph">
<p>On <a href="https://github.com/cypress-io/cypress-example-kitchensink">kitchensink</a>
you can find an official cypress demo with all the comands being used.</p>
</div>
<!-- toc disabled -->
</div>
</div>
</div>
<div class="sect2">
<h3 id="guide-eslint.asciidoc">22.4. Angular ESLint support</h3>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
ESLint is supported in Angular 10.1.0 onwards.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="guide-eslint.asciidoc_what-about-tslint">22.4.1. What about TSLint?</h4>
<div class="paragraph">
<p>TSLint is a fantastic tool. It is a linter that was written specifically to work based on the TypeScript AST format. This has advantages and disadvantages, as with most decisions we are faced with in software engineering!</p>
</div>
<div class="paragraph">
<p>One advantage is there is no tooling required to reconcile differences between ESLint and TypeScript AST formats, but the major disadvantage is that the tool is therefore unable to reuse any of the previous work which has been done in the JavaScript ecosystem around linting, and it has to reimplement everything from scratch. Everything from rules to auto-fixing capabilities and more.</p>
</div>
<div class="paragraph">
<p>However, the backers behind TSLint announced in 2019 that <strong>they would be deprecating TSLint in favor of supporting</strong> <code>typescript-eslint</code> in order to benefit the community. You can read more about that here: <a href="https://medium.com/palantir/tslint-in-2019-1a144c2317a9" class="bare">https://medium.com/palantir/tslint-in-2019-1a144c2317a9</a></p>
</div>
<div class="paragraph">
<p>The TypeScript Team themselves also announced their plans to move the TypeScript codebase from TSLint to <code>typescript-eslint</code>, and they have been big supporters of this project. More details at <a href="https://github.com/microsoft/TypeScript/issues/30553" class="bare">https://github.com/microsoft/TypeScript/issues/30553</a></p>
</div>
<div class="paragraph">
<p>Angular ESLint support comes from the <a href="https://github.com/angular-eslint/angular-eslint"><code>angular-eslint</code></a> tooling package. Angular documentation also links to this repository as you can check in the <a href="https://angular.io/cli/lint"><code>ng lint</code> section</a> of the Angular CLI documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="guide-eslint.asciidoc_quick-start-with-angular-and-eslint">22.4.2. Quick start with Angular and ESLint</h4>
<div class="paragraph">
<p>In order to create a brand new Angular CLI workspace which uses ESLint instead of TSLint and Codelyzer, simply run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Install the Angular CLI and @angular-eslint/schematics globally however you want (e.g. npm, yarn, volta etc)

$ npm i -g @angular/cli @angular-devkit/core @angular-devkit/schematics @angular-eslint/schematics

# Create a new Angular CLI workspace using the @angular-eslint/schematics collection (instead of the default)

$ ng new --collection=@angular-eslint/schematics</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="guide-eslint.asciidoc_migrating-an-angular-cli-project-from-codelyzer-and-tslint">22.4.3. Migrating an Angular CLI project from Codelyzer and TSLint</h4>
<div class="sect4">
<h5 id="guide-eslint.asciidoc_1---add-relevant-dependencies">1 - Add relevant dependencies</h5>
<div class="paragraph">
<p>The first step is to run the schematic to add <code>@angular-eslint</code> to your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ ng add @angular-eslint/schematics</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will handle installing the latest version of all the relevant packages for you and adding them to the devDependencies of your package.json.</p>
</div>
</div>
<div class="sect4">
<h5 id="guide-eslint.asciidoc_2---run-the-convert-tslint-to-eslint-schematic-on-a-project">2 - Run the convert-tslint-to-eslint schematic on a project</h5>
<div class="paragraph">
<p>The next thing to do is consider which &quot;project&quot; you want to migrate to use ESLint. If you have a single application in your workspace you will likely have just a single entry in the projects configuration object within your <code>angular.json</code> file. If you have a <code>projects/`</code> directory in your workspace, you will have multiple entries in your <code>projects</code> configuration and you will need to chose which one you want to migrate using the <code>convert-tslint-to-eslint</code> schematic.</p>
</div>
<div class="paragraph">
<p>You can run it like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ ng g @angular-eslint/schematics:convert-tslint-to-eslint {{YOUR_PROJECT_NAME_GOES_HERE}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>From now on, <code>ng lint</code> will use ESLint!</p>
</div>
</div>
<div class="sect4">
<h5 id="guide-eslint.asciidoc_3---remove-root-tslint-configuration-and-use-only-eslint">3 - Remove root TSLint configuration and use only ESLint</h5>
<div class="paragraph">
<p>Once you are happy with your ESLint setup, you simply need to remove the root-level <code>tslint.json</code> and potentially uninstall TSLint and any TSLint-related plugins/dependencies if your Angular CLI workspace is now no longer using TSLint at all.</p>
</div>
<div class="paragraph">
<p>More info at <a href="https://github.com/angular-eslint/angular-eslint" class="bare">https://github.com/angular-eslint/angular-eslint</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>&#x2190;&#xA0;Previous:&#xA0;<a href="master-devon4ng.asciidoc_ngrx.html">NgRx</a>&#xA0;| &#x2191;&#xA0;Up:&#xA0;<a href="master-devon4ng.asciidoc.html">devon4ng</a>&#xA0;| &#x2302;&#xA0;Home:&#xA0;<a href="master.html">devonfw guide</a>&#xA0;| Next:&#xA0;<a href="master-devon4net.asciidoc.html">devon4net</a>&#xA0;&#x2192;</p>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.asciidoc_architecture.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<div class="footnote"><sub>

Last updated 2021-06-02 13:09:33 UTC
</sub></div>


<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>

</body></html>