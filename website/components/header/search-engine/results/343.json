{"type":"doc","filename":"guide-error-handler.asciidoc.html","anchor":"guide-error-handler.asciidoc_creating-your-custom-errorhandler-step-by-step","title":"Creating your custom ErrorHandler step by step","breadcrumbs":["Angular","Angular","Error Handler in angular"],"text":"Creating your custom ErrorHandler step by step\n\nIn order to create a custom ErrorHandler three steps are going to be needed:\n\n\nCreating the custom ErrorHandler class\n\nIn this first step the custom ErrorHandler class is going to be created inside the folder /app/core/errors/errors-handler.ts:\n\n\n\n\n\n\n\nThis class can be used to control the different type of errors. If wanted, the classname variable could be used to add more switch cases. This would allow control of more specific situations.\n\n\n\nCreating a ErrorInterceptor\n\nInside the same folder created in the last step we are going to create the ErrorInterceptor(errors-handler-interceptor.ts). This ErrorInterceptor is going to retry any failed calls to the server to make sure it is not being found before showing the error:\n\n\n\n\n\n\n\nThis custom made interceptor is implementing the HttpInterceptor and inside the method intercept using the method pipe,retryWhen,delay,take and concatMap from RxJs it is going to do the next things if there is errors:\n\n\n\n\nWith delay(500) do a delay to allow some time in between requests\n\n\nWith take(5) retry five times.\n\n\nWith concatMap if the index that take() gives is not 5 it returns the error, else, it throws the error.\n\n\n\n\n\nCreating a Error Module\n\nFinally, creating a module(errors-handler.module.ts) is necessary to include the interceptor and the custom error handler. In this case, the module is going to be created in the same folder as the last two:\n\n\n\n\n\n\n\nThis module simply is providing the services that are implemented by our custom classes and then telling angular to use our custom made classes instead of the default ones. After doing this, the module has to be included in the app module app.module.ts in order to be used.\n\n\n\n\n\n\n\n\n\n"}